<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../static/styles.css">
</head>
<body>

<div class="d-flex align-items-center">
        <h1 class="uniquifier me-3">ALL PHOTOS</h1>
        <form action="page1.php" method="POST" enctype="multipart/form-data" style="display: inline;">
                <img 
                    src="../static/add_box_24dp_F3F3F3_FILL0_wght400_GRAD0_opsz24.png" 
                    alt="Add Image" 
                    class="upload-btn"
                >
            </label>
            <input type="file" name="uploadedFile" id="fileInput" style="display: none;" onchange="this.form.submit();">
        </form>
    </div>



        <div class="row g-3">
            <!-- Imagens -->
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/imglana/lana1.webp" alt="LDR1" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>

            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/imglana/lana2.webp" alt="LDR2" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/imglana/lana3.webp" alt="LDR3" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>

            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/imglana/lana4.webp" alt="LDR4" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>

            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/imglana/lana5.webp" alt="LDR5" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>

            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/imglana/lana6.webp" alt="LDR6" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>

            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/imglana/lana7.webp" alt="LDR7" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>

            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/imglana/lana8.webp" alt="LDR8" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>

            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/imglana/lana9.webp" alt="LDR9" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>

            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/imglana/lana10.webp" alt="LDR10" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>

            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/imglana/lana11.webp" alt="LDR11" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>

            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/imglana/lana12.webp" alt="LDR12" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>

            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/imglana/lana13.webp" alt="LDR13" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>

            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/imglana/lana14.webp" alt="LDR14" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>

            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/imglana/lana15.webp" alt="LDR15" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>

            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/imglana/lana16.webp" alt="LDR16" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>

            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/imglana/lana17.webp" alt="LDR17" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>

            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/imglana/lana18.webp" alt="LDR18" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>

            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/imglana/lana19.webp" alt="LDR19" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>

            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/imglana/lana20.webp" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/dyk/dyk1.jpg" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/dyk/dyk2.jpg" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/dyk/dyk3.jpg" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/dyk/dyk4.jpg" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/dyk/dyk5.jpg" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/dyk/dyk6.jpg" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/dyk/dyk7.jpg" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/dyk/dyk8.jpg" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/dyk/dyk9.jpg" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/dyk/dyk10.jpg" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/dyk/dyk11.jpg" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/dyk/dyk12.jpg" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/dyk/dyk13.jpg" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/dyk/dyk14.jpg" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/dyk/dyk15.jpg" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/dyk/dyk16.jpg" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/dyk/dyk17.jpg" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/dyk/dyk18.png" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/dyk/dyk19.jpg" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/dyk/dyk20.jpg" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/lanaskims2023/skims1.webp" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/lanaskims2023/skims2.webp" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/lanaskims2023/skims3.webp" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/lanaskims2023/skims4.webp" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/instyle/instyle1.jpg" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/instyle/instyle2.jpg" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/instyle/instyle3.jpg" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/instyle/instyle4.jpg" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/NFR/NFR1.webp" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/NFR/NFR2.webp" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/NFR/NFR3.webp" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
            
            <div class="col-6 col-md-4 col-lg-3">
                <img src="../static/NFR/NFR4.webp" alt="LDR20" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">
            </div>
    </div>
    <div class="row g-3">
    <?php
    $imageDir = 'uploads/';
    if (is_dir($imageDir)) {
        $images = array_diff(scandir($imageDir), array('.', '..'));
        foreach ($images as $image) {
            echo '<div class="col-6 col-md-4 col-lg-3">';
            echo '<img src="' . $imageDir . $image . '" alt="' . $image . '" class="img-fluid rounded shadow zoomable" data-bs-toggle="modal" data-bs-target="#imageModal">';
            echo '</div>';
        }
    }
    ?>
</div>

    <script>
        // Adiciona funcionalidade ao botão de upload
    const fileInput = document.getElementById('fileInput');
    const gallery = document.getElementById('gallery');
    const uploadBtn = document.querySelector('.upload-btn');

    uploadBtn.addEventListener('click', () => {
        fileInput.click();
    });

    fileInput.addEventListener('change', (event) => {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
                // Cria uma nova imagem para a galeria
                const col = document.createElement('div');
                col.classList.add('col-6', 'col-md-4', 'col-lg-3');

                const img = document.createElement('img');
                img.src = e.target.result;
                img.alt = 'Uploaded Image';
                img.classList.add('img-fluid', 'rounded', 'shadow', 'zoomable');
                img.setAttribute('data-bs-toggle', 'modal');
                img.setAttribute('data-bs-target', '#imageModal');

                col.appendChild(img);
                gallery.appendChild(col);

                // Adiciona funcionalidade ao modal para a nova imagem
                img.addEventListener('click', function () {
                    modalImage.src = this.src;
                    modalImage.alt = this.alt;
                });
            };
            reader.readAsDataURL(file);
        }
    });
    </script>

<script>
    document.getElementById('fileInput').addEventListener('change', function() {
        const formData = new FormData();
        formData.append('uploadedFile', this.files[0]);

        fetch('page1.php', { // Agora o upload será enviado para page1.php
            method: 'POST',
            body: formData
        })
        .then(response => response.text())
        .then(data => {
            location.reload(); // Recarrega a página para atualizar
        })
        .catch(error => {
            console.error('Erro', error);
            alert('Erro!');
        });
    });
</script>

<?php
if ($_SERVER['REQUEST_METHOD'] == 'POST' && isset($_FILES['uploadedFile'])) {
    $uploadDir = 'uploads/'; // Pasta onde as imagens serão armazenadas
    $uploadFile = $uploadDir . basename($_FILES['uploadedFile']['name']);

    // Cria a pasta de uploads, se não existir
    if (!is_dir($uploadDir)) {
        mkdir($uploadDir, 0777, true);
    }

    // Move o arquivo para a pasta de uploads
    if (move_uploaded_file($_FILES['uploadedFile']['tmp_name'], $uploadFile)) {
        echo "Imagem enviada com sucesso!";
    } else {
        http_response_code(500);
        echo "Erro ao enviar imagem!";
    }
}
?>
    <!-- Modal -->
    <div class="modal fade" id="imageModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-body p-0">
                    <img src="" id="modalImage" class="img-fluid rounded">
                </div>
                <div class="modal-footer"></div>
            </div>
</body>
